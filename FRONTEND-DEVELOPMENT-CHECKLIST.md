# Titan | 素材协作平台 MVP 开发清单

基于项目经理提供的技术实现文档，保持现有技术栈（MikroORM + PrimeReact），专注于新功能开发。

## 📋 项目概览
- **项目代号**: Titan | 素材协作平台 MVP
- **技术栈**: Next.js + NestJS + MikroORM + PrimeReact（保持现有）
- **核心功能**: 阿里云盘集成 + 项目素材管理
- **开发模式**: 渐进式功能添加，最小化架构变更

---

## 🎨 前端开发清单

### Phase 1: 页面结构创建
- [ ] **新增页面**
  - [ ] `(app)/dashboard/page.tsx` - 主看板（项目列表）
  - [ ] `(app)/project/[id]/page.tsx` - 项目详情页
  - [ ] `(app)/settings/page.tsx` - 设置页面
  - [ ] 更新路由配置和导航

- [ ] **布局更新**
  - [ ] 更新 `(app)/layout.tsx` - 添加新的导航菜单
  - [ ] 添加面包屑导航组件
  - [ ] 更新侧边栏以支持新功能

### Phase 2: 核心组件开发
- [ ] **阿里云盘相关组件**
  - [ ] `AliyunDriveConnector.tsx` - 配置连接组件
    - [ ] refresh_token 输入表单
    - [ ] 连接状态显示
    - [ ] 使用 PrimeReact 的 InputText 和 Button
  - [ ] `AliyunDriveBrowser.tsx` - 文件浏览器（模态框）
    - [ ] 使用 PrimeReact Dialog 组件
    - [ ] 文件/文件夹列表展示
    - [ ] 目录导航（面包屑）
    - [ ] 多选功能（复选框）
    - [ ] 文件类型图标显示

- [ ] **项目管理组件**
  - [ ] `ProjectList.tsx` - 项目列表组件
    - [ ] 使用 PrimeReact DataView 或 Card
    - [ ] 项目创建入口
    - [ ] 搜索和过滤功能
  - [ ] `ProjectForm.tsx` - 项目创建/编辑表单
    - [ ] 使用 react-hook-form + PrimeReact 组件
    - [ ] 表单验证
  - [ ] `ProjectMaterialsList.tsx` - 项目素材列表
    - [ ] 使用 PrimeReact DataTable
    - [ ] 素材移除功能
    - [ ] 文件类型和大小显示

### Phase 3: API 集成和状态管理
- [ ] **API 服务层**
  - [ ] 更新 `api.ts` - 添加新的 API 端点
  - [ ] 创建阿里云盘 API 服务
  - [ ] 创建项目管理 API 服务
  - [ ] 统一错误处理

- [ ] **状态管理**
  - [ ] 使用 React Query 管理服务器状态
  - [ ] 创建项目相关的 hooks
  - [ ] 创建阿里云盘相关的 hooks
  - [ ] 缓存策略和数据同步

### Phase 4: 用户体验优化
- [ ] **加载状态和错误处理**
  - [ ] 使用 PrimeReact ProgressSpinner
  - [ ] 错误边界和友好错误提示
  - [ ] 空状态展示

- [ ] **交互优化**
  - [ ] Toast 消息提示
  - [ ] 确认对话框（删除操作）
  - [ ] 键盘快捷键支持

---

## 🎯 开发优先级

### 高优先级 (P0)
1. 数据库架构扩展
2. 阿里云盘集成模块
3. 基本的项目管理功能
4. 核心页面和组件

### 中优先级 (P1)
1. 用户体验优化
2. 错误处理和边界情况
3. 性能优化
4. 基础测试覆盖

### 低优先级 (P2)
1. 高级功能（搜索、过滤、排序）
2. 完整的测试覆盖
3. 文档完善
4. 部署优化

---

## 🚀 里程碑计划

### Milestone 1: 基础架构 (Week 1)
- [ ] 数据库架构设计和迁移
- [ ] 基本的后端模块框架
- [ ] 前端页面结构创建

### Milestone 2: 核心功能 (Week 2-3)
- [ ] 阿里云盘集成完成
- [ ] 项目管理基本功能
- [ ] 前端核心组件开发

### Milestone 3: 集成测试 (Week 4)
- [ ] 前后端集成
- [ ] 功能测试和 bug 修复
- [ ] 用户体验优化

### Milestone 4: 发布准备 (Week 5)
- [ ] 生产环境配置
- [ ] 文档完善
- [ ] 发布部署

---

## 📝 注意事项

### 技术约束
- 保持现有技术栈不变（MikroORM + PrimeReact）
- 最小化对现有代码的影响
- 优先考虑功能实现，后续优化性能

### 安全考虑
- 阿里云盘 refresh_token 必须加密存储
- 实施适当的权限验证
- 防止 SQL 注入和 XSS 攻击

### 性能考虑
- 阿里云盘 API 调用频率限制
- 前端组件的懒加载
- 数据库查询优化

---

*本清单基于项目经理提供的技术实现文档创建，并已根据保持现有技术栈的决策进行调整。*